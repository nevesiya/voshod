"use strict";(self["webpackChunkvuejs_2"]=self["webpackChunkvuejs_2"]||[]).push([[701],{1161:function(e,t,s){var l=s(7639),i=s(786),n=s(7829),a=s(5017),o=s(8653),r=s(4925),c=s(311),d=s(2867);t.Z={components:{BaseFooterSimple:l.Z,FilterRange:i.Z,FilterCheckbox:n.Z,FilterButton:a.Z,FilterCheckboxModels:o.Z,BasePagination:r.Z,BaseBanner:c.Z},data(){return{product:[],model:[],brand:new Set,condition:new Set,body:new Set,transmission:new Set,drive:new Set,fuel:new Set,promo:new Set,status:new Set,service:new Set,minPrice:0,maxPrice:0,minYear:0,maxYear:0,selectBrand:[],selectModel:[],selectCondition:[],selectStatus:[],selectService:[],selectPromo:[],selectBody:[],selectTransmission:[],selectDrive:[],selectFuel:[],selectMinPrice:"",selectMaxPrice:"",selectMinYear:"",selectMaxYear:"",reset:0,pageStart:"",pageEnd:"",loading:!1}},watch:{minPrice(){this.minPrice=1e5*Math.floor(this.minPrice/1e5)},maxPrice(){this.maxPrice=1e5*Math.ceil(this.maxPrice/1e5)},selectBrand(){this.selectBrand.length&&this.selectModel.length?this.model=d.Z.getCarModels(this.product,this.selectBrand):this.selectBrand.length?this.model=d.Z.getCarModels(this.filteringProduct):this.model=d.Z.getCarModels(this.product)},selectModel(){if(this.selectModel.length&&this.selectBrand.length){let e=this.model.map((e=>e.brand));this.brand=d.Z.getUniqueElements(this.product,"brand",!0,e)}else{if(this.selectModel.length||!this.selectBrand.length)return this.selectModel.length||this.selectBrand.length?void(this.brand=d.Z.getUniqueElements(this.filteringProduct,"brand")):(this.model=d.Z.getCarModels(this.product),void(this.brand=d.Z.getUniqueElements(this.product,"brand")));this.brand=d.Z.getUniqueElements(this.product,"brand")}}},computed:{disabledResetButton(){return this.product.length===this.filteringProduct.length},filteringProduct(){return this.product.filter((e=>!this.selectBrand.length||this.selectBrand.includes(e.brand))).filter((e=>!this.selectModel.length||this.selectModel.includes(e.model))).filter((e=>!this.selectCondition.length||this.condition.size===this.selectCondition.length||this.selectCondition.includes(e.condition))).filter((e=>!this.selectBody.length||this.body.size===this.selectBody.length||this.selectBody.includes(e.body))).filter((e=>!this.selectTransmission.length||this.transmission.size===this.selectTransmission.length||this.selectTransmission.includes(e.transmission))).filter((e=>!this.selectDrive.length||this.drive.size===this.selectDrive.length||this.selectDrive.includes(e.drive))).filter((e=>!this.selectStatus.length||this.fuel.size===this.selectStatus.length||this.selectStatus.includes(e.status))).filter((e=>!this.selectService.length||this.fuel.size===this.selectService.length||this.selectService.includes(e.service))).filter((e=>!this.selectFuel.length||this.fuel.size===this.selectFuel.length||this.selectFuel.includes(e.fuel))).filter((e=>!this.selectPromo.length||this.promo.size===this.selectPromo.length||this.selectPromo.filter((t=>(e.promo??="",e.promo.includes(t)))).length)).filter((e=>!this.selectMinPrice||e.price>=this.selectMinPrice)).filter((e=>!this.selectMaxPrice||e.price<=this.selectMaxPrice)).filter((e=>!this.selectMinYear||e.year>=this.selectMinYear)).filter((e=>!this.selectMaxYear||e.year<=this.selectMaxYear))}}}},2029:function(e,t,s){s.d(t,{Z:function(){return _}});var l=s(3396),i=s(7139),n=s(9242),a=s(5550);const o={class:"card"},r={class:"card__label-box"},c=["alt"],d={class:"card__brand"},u={class:"card__payment"},h={class:"card__payment-leasing"},m={class:"card__price"};function g(e,t,s,g,p,f){const M=(0,l.up)("router-link"),b=(0,l.up)("ModalBooking");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",r,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.product.promo,(t=>((0,l.wg)(),(0,l.iD)("p",{key:t,href:"#",class:(0,i.C_)(["card__label",e.getClass(t)])},(0,i.zw)(t),3)))),128))]),(0,l.Wm)(M,{to:`/catalog/${this.product.id}`},{default:(0,l.w5)((()=>[(0,l._)("img",{src:a,alt:`${e.product.brand} ${e.product.model} Image`,class:"card__image"},null,8,c)])),_:1},8,["to"]),(0,l.Wm)(M,{class:"card__name",to:`/catalog/${this.product.id}`},{default:(0,l.w5)((()=>[(0,l._)("span",d,(0,i.zw)(e.product.brand),1),(0,l._)("span",{ref:"car",class:"card__model"},(0,i.zw)(e.modelName),513)])),_:1},8,["to"]),(0,l._)("p",u,[(0,l.Uk)(" Минимальный платёж "),(0,l._)("span",h,(0,i.zw)(e.product.payment.toLocaleString())+" ₽",1)]),(0,l._)("p",m,[(0,l.Uk)(" Цена от "),(0,l._)("span",null,(0,i.zw)(e.product.price.toLocaleString())+" ₽",1)]),(0,l._)("a",{class:"card__more",href:"#",onClick:t[0]||(t[0]=(0,n.iM)((t=>f.selectSimilarModels(e.product.model)),["prevent"]))},"Посмотреть похожие модели"),(0,l._)("button",{onClick:t[1]||(t[1]=t=>e.showModal=!0),class:"card__book button--size-m button button--color-red"}," Забронировать "),(0,l.Wm)(n.uT,{name:"fade"},{default:(0,l.w5)((()=>[e.showModal?((0,l.wg)(),(0,l.j4)(b,{key:0,"name-car":`${e.product.brand} ${e.modelName}`,onCloseModal:t[2]||(t[2]=t=>e.showModal=!1)},null,8,["name-car"])):(0,l.kq)("",!0)])),_:1})])}var p=s(8240),f={name:"CardLeasing",mixins:[p.Z],emits:["selectedModel","moreDetails"],methods:{selectSimilarModels(e){this.$emit("selectedModel",e)}}},M=s(89);const b=(0,M.Z)(f,[["render",g],["__scopeId","data-v-23e7dabf"]]);var _=b},80:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var l=s(3396),i=s(9242),n=s.p+"img/attention.e6b65b2b.svg",a=s(3389);const o=e=>((0,l.dD)("data-v-574f6bbe"),e=e(),(0,l.Cn)(),e),r={key:1,class:"wrapper"},c={class:"main"},d={class:"main-catalog"},u={class:"main-sidebar"},h=["disabled"],m={class:"main-content"},g=o((()=>(0,l._)("img",{src:n,alt:"attention icon"},null,-1))),p={class:"attention-box"},f=o((()=>(0,l._)("span",{class:"attention-box__title"},"В каталоге представлены автомобили, которые проходят по программам лизинга. ",-1))),M={class:"attention-box__text"},b=o((()=>(0,l._)("img",{src:a,alt:"close circle"},null,-1))),_={class:"filter-group"},v={key:0,class:"product"},w={key:1,class:"product-null"},C={class:"modal-callback"};function k(e,t,s,n,a,o){const k=(0,l.up)("TheLoader"),S=(0,l.up)("filter-range"),x=(0,l.up)("filter-checkbox"),P=(0,l.up)("FilterCheckboxModels"),Z=(0,l.up)("router-link"),y=(0,l.up)("base-toast"),B=(0,l.up)("FilterButton"),D=(0,l.up)("CardLeasing"),F=(0,l.up)("BaseBanner"),W=(0,l.up)("ModalCallback"),U=(0,l.up)("BasePagination"),Y=(0,l.up)("BaseFooterSimple");return e.loading?((0,l.wg)(),(0,l.j4)(k,{key:0})):((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("main",c,[(0,l._)("div",d,[(0,l._)("div",u,[(0,l._)("button",{disabled:e.disabledResetButton,onClick:t[0]||(t[0]=(...e)=>o.resetFilter&&o.resetFilter(...e)),class:"button button--reset button--color-red button--size-xs"}," Сбросить фильтр ",8,h),(0,l.Wm)(S,{"title-filter":"Цена","value-type":"amount","value-min":e.minPrice,"value-max":e.maxPrice,"reset-selected":e.reset,onSelectedMin:t[1]||(t[1]=t=>e.selectMinPrice=t),onSelectedMax:t[2]||(t[2]=t=>e.selectMaxPrice=t)},null,8,["value-min","value-max","reset-selected"]),(0,l.Wm)(x,{"title-filter":"Марка","reset-selected":e.reset,options:e.brand,onSelectedItems:t[3]||(t[3]=t=>e.selectBrand=t)},null,8,["reset-selected","options"]),(0,l.Wm)(P,{onSelectedItems:t[4]||(t[4]=t=>e.selectModel=t),options:e.model,"reset-selected":e.reset,"selected-outside":a.selectedModelOutsideItems},null,8,["options","reset-selected","selected-outside"]),(0,l.Wm)(x,{"title-filter":"Кузов","reset-selected":e.reset,options:e.body,onSelectedItems:t[5]||(t[5]=t=>e.selectBody=t)},null,8,["reset-selected","options"]),(0,l.Wm)(x,{"title-filter":"Коробка передач","reset-selected":e.reset,options:e.transmission,onSelectedItems:t[6]||(t[6]=t=>e.selectTransmission=t)},null,8,["reset-selected","options"]),(0,l.Wm)(x,{"title-filter":"Привод","reset-selected":e.reset,options:e.drive,onSelectedItems:t[7]||(t[7]=t=>e.selectDrive=t)},null,8,["reset-selected","options"]),(0,l.Wm)(x,{"title-filter":"Вид топлива","reset-selected":e.reset,options:e.fuel,onSelectedItems:t[8]||(t[8]=t=>e.selectFuel=t)},null,8,["reset-selected","options"]),(0,l.Wm)(S,{"title-filter":"Год выпуска","value-type":"year","value-min":e.minYear,"value-max":e.maxYear,"reset-selected":e.reset,onSelectedMin:t[9]||(t[9]=t=>e.selectMinYear=t),onSelectedMax:t[10]||(t[10]=t=>e.selectMaxYear=t)},null,8,["value-min","value-max","reset-selected"])]),(0,l._)("div",m,[(0,l.Wm)(y,null,{content:(0,l.w5)((()=>[g,(0,l._)("p",p,[f,(0,l._)("span",M,[(0,l.Uk)("Если Вам необходим автомобиль в аренду перейдите в раздел "),(0,l.Wm)(Z,{to:"/rent"},{default:(0,l.w5)((()=>[(0,l.Uk)("Аренда")])),_:1}),(0,l.Uk)(". ")])])])),close:(0,l.w5)((()=>[b])),_:1}),(0,l._)("div",_,[(0,l.Wm)(B,{"reset-selected":e.reset,onSelectedItems:t[11]||(t[11]=t=>e.selectCondition=t),name:"condition",options:e.condition},null,8,["reset-selected","options"]),(0,l.Wm)(B,{"reset-selected":e.reset,onSelectedItems:t[12]||(t[12]=t=>e.selectPromo=t),name:"promo",options:e.promo},null,8,["reset-selected","options"])]),e.filteringProduct.length?((0,l.wg)(),(0,l.iD)("div",v,[(0,l.Wm)(i.W3,{name:"collapse"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.filteringProduct.slice(e.pageStart,e.pageEnd),(e=>((0,l.wg)(),(0,l.j4)(D,{key:e.id,onSelectedModel:t[13]||(t[13]=e=>o.selectedModelFromCard(e)),product:e},null,8,["product"])))),128))])),_:1})])):((0,l.wg)(),(0,l.iD)("div",w," Ничего не найдено ")),(0,l.Wm)(F,{title:"Не нашли ничего подходящего?",text:"Предложите свой вариант!",button:"Оставить заявку",onClickButton:t[14]||(t[14]=e=>a.showModalCallback=!0)}),(0,l._)("div",C,[(0,l.Wm)(i.uT,{name:"fade"},{default:(0,l.w5)((()=>[a.showModalCallback?((0,l.wg)(),(0,l.j4)(W,{key:0,"show-modal":a.showModalCallback,onCloseModal:t[15]||(t[15]=e=>a.showModalCallback=!1)},null,8,["show-modal"])):(0,l.kq)("",!0)])),_:1})]),(0,l.Wm)(U,{"total-amount-data":e.filteringProduct.length,onActualPage:t[16]||(t[16]=t=>(e.pageStart=t.start,e.pageEnd=t.end))},null,8,["total-amount-data"]),(0,l.Wm)(Y)])])])]))}var S=s(2029),x=s(5783),P=s(2520),Z=s(1161),y=s(2867),B=s(1011),D=s(1076),F=s(4666),W={components:{CardLeasing:S.Z,BaseToast:x.Z,ModalCallback:P.Z},mixins:[Z.Z],data(){return{leasingCar:"",copyLeasingCar:"",selectedModelOutsideItems:"",showModalCallback:!1,filterData:(0,F.T)()}},watch:{filterData:{handler(){this.selectedModelOutsideItems=this.filterData.similarModel},deep:!0}},methods:{async getLeasingCars(){this.loading=!0;try{const e=await D.Z.get("https://my.api.mockaroo.com/leasing_cars.json?key=a84cf050*");this.leasingCar=e.data}catch(e){this.leasingCar=B}this.product=y.Z.getCarProducts(this.leasingCar),this.getDataFilter(),this.loading=!1},getDataFilter(e=this.product){this.model=y.Z.getCarModels(this.product),this.brand=y.Z.getUniqueElements(this.product,"brand"),this.promo=y.Z.getUniqueElements(e,"promo"),this.drive=y.Z.getUniqueElements(e,"drive"),this.fuel=y.Z.getUniqueElements(e,"fuel"),this.body=y.Z.getUniqueElements(e,"body"),this.transmission=y.Z.getUniqueElements(e,"transmission"),this.condition=y.Z.getUniqueElements(e,"condition"),[this.minPrice,this.maxPrice]=y.Z.findMinMaxDigits(e,"price"),[this.minYear,this.maxYear]=y.Z.findMinMaxDigits(e,"year")},resetFilter(){this.getDataFilter(),this.reset++,this.filterData.similarModel=""},selectedModelFromCard(e){this.filterData.similarModel=e}},created(){this.getLeasingCars()},mounted(){this.filterData.similarModel&&(this.selectedModelOutsideItems=this.filterData.similarModel)},unmounted(){this.filterData.similarModel=""}},U=s(89);const Y=(0,U.Z)(W,[["render",k],["__scopeId","data-v-574f6bbe"]]);var z=Y}}]);
//# sourceMappingURL=701.8dae521d.js.map
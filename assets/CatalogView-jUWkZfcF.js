import{C as E}from"./CardLeasing-WlfDDy2a.js";import{_ as O,C as q,M as U,s as l,f as a,g as m,i,j as T,t as o,v as p,y as u,F as h,m as M,k as c,T as Y,D as Z,x as C,z as j,A,E as N}from"./index-KdPPDDm8.js";import{P as z}from"./PageProductMixin-N21asWev.js";import{u as G,h as n}from"./FilterDataStore-FApWcX4t.js";import{f as _}from"./apiUtils-05fuKnWJ.js";import{_ as H}from"./arrow-right-black-bCXs9acw.js";import"./CardSkeleton-a_Wow9GN.js";import"./BaseFooterSimple-iOW4Zpa8.js";import"./BaseAccordion--Elf9_wT.js";const $="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Fill'%3e%3cpath%20id='Subtract'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.9992%200.333374C6.89929%200.333374%200.333008%206.89966%200.333008%2014.9996C0.333008%2023.0995%206.89929%2029.6658%2014.9992%2029.6658C23.0991%2029.6658%2029.6654%2023.0995%2029.6654%2014.9996C29.6654%206.89966%2023.0991%200.333374%2014.9992%200.333374ZM16.4992%209.00004V7.50004H13.4992V9.00004V14.9998V16.4998H16.4992V14.9998V9.00004ZM16.4992%2020.9993C16.4992%2020.1709%2015.8276%2019.4993%2014.9992%2019.4993C14.1708%2019.4993%2013.4992%2020.1709%2013.4992%2020.9993V21.666C13.4992%2022.4944%2014.1708%2023.166%2014.9992%2023.166C15.8276%2023.166%2016.4992%2022.4944%2016.4992%2021.666V20.9993Z'%20fill='%23BF3535'/%3e%3c/g%3e%3c/svg%3e",R="data:image/svg+xml,%3csvg%20width='20.000000'%20height='20.000000'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdesc%3e%20Created%20with%20Pixso.%20%3c/desc%3e%3cdefs%3e%3cclipPath%20id='clip107_60323'%3e%3crect%20id='Filter'%20width='20.000000'%20height='20.000000'%20transform='translate(0.000000%20-0.500000)'%20fill='white'%20fill-opacity='0'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20clip-path='url(%23clip107_60323)'%3e%3cpath%20id='Vector%20(Stroke)'%20d='M11.18%2011.16L9.19%2011.16L9.19%2015.46L11.18%2016.47L11.18%2011.16ZM7.52%2010.66L1.28%203.97C0.31%202.94%201%201.16%202.48%201.16L17.51%201.16C18.97%201.16%2019.67%202.89%2018.75%203.94L12.85%2010.64L12.85%2017.83C12.85%2018.12%2012.7%2018.39%2012.45%2018.54C12.21%2018.69%2011.9%2018.7%2011.64%2018.57L7.98%2016.72C7.7%2016.58%207.52%2016.29%207.52%2015.98L7.52%2010.66Z'%20fill='%23000000'%20fill-opacity='1.000000'%20fill-rule='evenodd'/%3e%3c/g%3e%3c/svg%3e",J={components:{CardLeasing:E,BaseToast:q,ModalCallback:U},mixins:[z],data(){return{leasingCar:"",selectedModelOutsideItems:"",showModalCallback:!1,filterData:G()}},watch:{},methods:{async getLeasingCars(){this.loading=!0;const e="data/leasing_car.json";this.leasingCar=await _("https://my.api.mockaroo.com/leasing_cars.json?key=a84cf050*",`/voshod/${e}`),typeof this.leasingCar=="object"&&this.actionsAfterGettingData(),this.loading=!1},actionsAfterGettingData(){this.product=n.getCarProducts(this.leasingCar),this.getDataFilter()},getDataFilter(){this.model=n.getCarModels(this.product),this.brand=n.getUniqueElements(this.product,"brand"),this.promo=n.getUniqueElements(this.product,"promo"),this.drive=n.getUniqueElements(this.product,"drive"),this.fuel=n.getUniqueElements(this.product,"fuel"),this.body=n.getUniqueElements(this.product,"body"),this.transmission=n.getUniqueElements(this.product,"transmission"),this.condition=n.getUniqueElements(this.product,"condition"),[this.minPrice,this.maxPrice]=n.findMinMaxDigits(this.product,"price"),[this.minYear,this.maxYear]=n.findMinMaxDigits(this.product,"year")},resetFilter(){this.getDataFilter(),this.reset++,this.filterData.similarModel=""},selectedModelFromCard(e){this.filterData.similarModel=e}},created(){this.getLeasingCars()},mounted(){this.filterData.similarModel&&(this.selectedModelOutsideItems=this.filterData.similarModel)},unmounted(){this.filterData.similarModel=""}},b=e=>(j("data-v-ee8b01f5"),e=e(),A(),e),K={class:"wrapper"},Q={class:"main"},W={class:"main-catalog"},X={class:"main-sidebar__header"},x=["disabled"],ee={class:"main-content"},te=b(()=>i("img",{src:$,alt:"attention icon"},null,-1)),se={class:"attention-box"},oe=b(()=>i("span",{class:"attention-box__title"}," В каталоге представлены автомобили, которые проходят по программам лизинга. ",-1)),ie={class:"attention-box__text"},le=b(()=>i("img",{src:N,alt:"close circle"},null,-1)),ne={class:"filter-group"},ae={class:"product"},re={key:0,class:"product-null"},de={class:"modal-callback"};function me(e,t,pe,ue,r,g){const f=l("FilterButton"),v=l("filter-range"),d=l("filter-checkbox"),k=l("FilterCheckboxModels"),S=l("router-link"),w=l("base-toast"),B=l("BaseSkeleton"),y=l("CardSkeleton"),P=l("CardLeasing"),F=l("BaseBanner"),D=l("ModalCallback"),I=l("BasePagination"),L=l("BaseFooterSimple");return a(),m("div",K,[i("main",Q,[i("div",W,[i("div",{class:T([{"main-sidebar--open":e.isOpenSlidingSidebar},"main-sidebar"])},[i("div",X,[i("img",{onClick:t[0]||(t[0]=s=>e.isOpenSlidingSidebar=!e.isOpenSlidingSidebar),src:H,alt:"arrow back",class:"main-sidebar__header-close"})]),i("button",{disabled:e.disabledResetButton,onClick:t[1]||(t[1]=(...s)=>g.resetFilter&&g.resetFilter(...s)),class:"button button--reset button--color-red button--size-xs"}," Сбросить фильтр ",8,x),o(f,{class:"main-sidebar__promo",name:"promo",options:e.promo,"reset-selected":e.reset,onSelectedItems:t[2]||(t[2]=s=>e.selectPromo=s)},null,8,["options","reset-selected"]),o(v,{"title-filter":"Цена","value-type":"amount","value-min":e.minPrice,"value-max":e.maxPrice,"reset-selected":e.reset,open:!e.loading,onSelectedMin:t[3]||(t[3]=s=>e.selectMinPrice=s),onSelectedMax:t[4]||(t[4]=s=>e.selectMaxPrice=s)},null,8,["value-min","value-max","reset-selected","open"]),o(d,{"title-filter":"Марка","reset-selected":e.reset,options:e.brand,open:!e.loading,onSelectedItems:t[5]||(t[5]=s=>e.selectBrand=s)},null,8,["reset-selected","options","open"]),o(k,{onSelectedItems:t[6]||(t[6]=s=>e.selectModel=s),options:e.model,"reset-selected":e.reset,"selected-outside":r.selectedModelOutsideItems,open:!e.loading},null,8,["options","reset-selected","selected-outside","open"]),o(d,{"title-filter":"Кузов","reset-selected":e.reset,options:e.body,open:!e.loading,onSelectedItems:t[7]||(t[7]=s=>e.selectBody=s)},null,8,["reset-selected","options","open"]),o(d,{"title-filter":"Коробка передач","reset-selected":e.reset,options:e.transmission,open:!e.loading,onSelectedItems:t[8]||(t[8]=s=>e.selectTransmission=s)},null,8,["reset-selected","options","open"]),o(d,{"title-filter":"Привод","reset-selected":e.reset,options:e.drive,open:!e.loading,onSelectedItems:t[9]||(t[9]=s=>e.selectDrive=s)},null,8,["reset-selected","options","open"]),o(d,{"title-filter":"Вид топлива","reset-selected":e.reset,options:e.fuel,open:!e.loading,onSelectedItems:t[10]||(t[10]=s=>e.selectFuel=s)},null,8,["reset-selected","options","open"]),o(v,{"title-filter":"Год выпуска","value-type":"year","value-min":e.minYear,"value-max":e.maxYear,"reset-selected":e.reset,open:!e.loading,onSelectedMin:t[11]||(t[11]=s=>e.selectMinYear=s),onSelectedMax:t[12]||(t[12]=s=>e.selectMaxYear=s)},null,8,["value-min","value-max","reset-selected","open"])],2),i("div",ee,[o(w,null,{content:p(()=>[te,i("p",se,[oe,i("span",ie,[C(" Если Вам необходим автомобиль в аренду перейдите в раздел "),o(S,{to:"/rent"},{default:p(()=>[C("Аренда")]),_:1}),C(" . ")])])]),close:p(()=>[le]),_:1}),i("div",ne,[e.loading?(a(),u(B,{key:0,height:"30px",width:"100%"})):(a(),m(h,{key:1},[o(f,{class:"filter-group__condition",name:"condition","reset-selected":e.reset,options:e.condition,onSelectedItems:t[13]||(t[13]=s=>e.selectCondition=s)},null,8,["reset-selected","options"]),o(f,{class:"filter-group__promo",name:"promo",options:e.promo,"reset-selected":e.reset,onSelectedItems:t[14]||(t[14]=s=>e.selectPromo=s)},null,8,["options","reset-selected"]),i("img",{onClick:t[15]||(t[15]=s=>e.isOpenSlidingSidebar=!e.isOpenSlidingSidebar),class:"filter-group__btn-filter",src:R,alt:""})],64))]),i("div",ae,[e.loading?(a(),m(h,{key:0},M(15,s=>o(y,{key:s})),64)):c("",!0),e.filteringProduct.length?(a(),u(Y,{key:1,name:"collapse"},{default:p(()=>[(a(!0),m(h,null,M(e.filteringProduct.slice(e.pageStart,e.pageEnd),s=>(a(),u(P,{key:s.id,onSelectedModel:t[16]||(t[16]=V=>g.selectedModelFromCard(V)),product:s},null,8,["product"]))),128))]),_:1})):c("",!0)]),!e.filteringProduct.length&&!e.loading?(a(),m("div",re," Ничего не найдено ")):c("",!0),o(F,{title:"Не нашли ничего подходящего?",text:"Предложите свой вариант!",button:"Оставить заявку",onClickButton:t[17]||(t[17]=s=>r.showModalCallback=!0)}),i("div",de,[o(Z,{name:"fade"},{default:p(()=>[r.showModalCallback?(a(),u(D,{key:0,"show-modal":r.showModalCallback,onCloseModal:t[18]||(t[18]=s=>r.showModalCallback=!1)},null,8,["show-modal"])):c("",!0)]),_:1})]),o(I,{"total-amount-data":e.filteringProduct.length,onActualPage:t[19]||(t[19]=s=>(e.pageStart=s.start,e.pageEnd=s.end))},null,8,["total-amount-data"])])]),o(L)])])}const Se=O(J,[["render",me],["__scopeId","data-v-ee8b01f5"]]);export{Se as default};

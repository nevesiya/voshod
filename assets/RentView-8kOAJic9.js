import{_ as P,s as i,f as a,g as c,i as o,j as V,u,t as n,v as m,G as C,x as b,y as g,k as f,D as y,z as S,A as B,P as Y,F as M,m as D,T as j,Q as G}from"./index-WjT0I8Tu.js";import{B as L}from"./BaseQuestion-ImiuVeCE.js";import{B as Q}from"./BaseAccordion-0_3G-jq7.js";import{a as O}from"./CardSkeleton-uQKb2VQ8.js";import{P as H}from"./PageProductMixin-Uq0vO6_z.js";import{h as r}from"./FilterDataStore-c8sR_nMQ.js";import{f as J}from"./apiUtils-05fuKnWJ.js";import"./BaseFooterSimple-mv6nlA0I.js";const K={name:"CardRent",mixins:[O],emits:["moreDetails"],methods:{showMoreDetails(){this.$emit("moreDetails",this.product)}}},W=e=>(S("data-v-d29cdbcb"),e=e(),B(),e),X={class:"card"},Z={class:"card__label-box"},x={href:"#",class:"card__label card__label--service"},ee=["src","alt"],te={class:"card__brand"},se={class:"card__plate-number"},oe={class:"card__payment"},ne={class:"card__payment-rent"},ie=W(()=>o("span",null," / день",-1)),re={class:"card__price card__price-rent"};function ae(e,t,w,q,p,l){const _=i("lazy-load-container"),v=i("ModalBooking");return a(),c("div",X,[o("div",Z,[o("p",{href:"#",class:V(["card__label",e.getClass(e.product.status)])},u(e.product.status),3),o("p",x,u(e.product.service),1)]),o("a",{onClick:t[0]||(t[0]=C((...d)=>l.showMoreDetails&&l.showMoreDetails(...d),["prevent"])),href:"#"},[n(_,null,{default:m(()=>[o("img",{src:e.cardImage,alt:`${e.product.brand} ${e.product.model} Image`,class:"card__image"},null,8,ee)]),_:1})]),o("a",{onClick:t[1]||(t[1]=C((...d)=>l.showMoreDetails&&l.showMoreDetails(...d),["prevent"])),href:"#",class:"card__name"},[o("span",te,u(e.product.brand),1),o("span",{ref:"car",class:"card__model"},u(e.modelName),513)]),o("p",se,u(e.product.registration),1),o("p",oe,[b(" Аренда "),o("span",ne,[b(u(e.product.payment.toLocaleString())+" ₽ ",1),ie])]),o("p",re,[b(" Депозит от "),o("span",null,u(e.product.price.toLocaleString())+" ₽ ",1)]),o("button",{onClick:t[2]||(t[2]=d=>e.showModal=!0),class:"card__book button--size-m button button--color-red"}," Забронировать "),n(y,{name:"fade"},{default:m(()=>[e.showModal?(a(),g(v,{key:0,"name-car":`${e.product.brand} ${e.modelName}`,onCloseModal:t[3]||(t[3]=d=>e.showModal=!1)},null,8,["name-car"])):f("",!0)]),_:1})])}const le=P(K,[["render",ae],["__scopeId","data-v-d29cdbcb"]]),de={components:{BaseQuestion:L,ModalRentDetail:Y(()=>G(()=>import("./ModalRentDetail-N1-Vu8Pa.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),CardRent:le,BaseAccordion:Q},mixins:[H],data(){return{questionsRent:[{question:"Как арендовать автомобиль?",answer:["забронировать автомобиль онлайн самостоятельно или позвонить и уточнить наличие свободных автомобилей или приехать и выбрать лично","подписать договор аренды автомобиля","внести оплату (залог + стоимость аренды)"]},{question:"Требования к водителю",answer:["водительское удостоверение","паспорт","стаж вождения от 3-х лет","постоянная или временная регистрация сроком не менее 6 месяцев на территории РФ"]},{question:"Условия аренды",answer:["минимальное время проката от 2-х суток (максимальное не ограничено)","автомобили технически исправны и не старше 3-х лет","все автомобили застрахованы (ОСАГО, КАСКО)","автомобили чистые и заправлены"]},{question:"Условия возврата ",answer:["возврат автомобиля осуществляется в период с 10 до 11 утра","автомобили технически исправнсообщить о сдаче автомобиля необходимо не позднее чем за 2-е суток и не старше 3-х лет","втомобиль должен быть чистым и заправлен"]}],rentCar:"",productMoreDetails:"",showModalRentMore:!1}},methods:{async getRentCars(){this.loading=!0;const e="data/rent_car.json";this.rentCar=await J("https://my.api.mockaroo.com/rent_cars.json?key=a84cf050*",`/voshod/${e}`),typeof this.rentCar=="object"&&this.actionsAfterGettingData(),this.loading=!1},actionsAfterGettingData(){this.product=r.getCarProducts(this.rentCar),this.getDataFilter(),this.checkOpenDetailsProduct()},getDataFilter(){this.model=r.getCarModels(this.product),this.brand=r.getUniqueElements(this.product,"brand"),this.status=r.getUniqueElements(this.product,"status"),this.drive=r.getUniqueElements(this.product,"drive"),this.fuel=r.getUniqueElements(this.product,"fuel"),this.body=r.getUniqueElements(this.product,"body"),this.transmission=r.getUniqueElements(this.product,"transmission"),this.service=r.getUniqueElements(this.product,"service"),[this.minPrice,this.maxPrice]=r.findMinMaxDigits(this.product,"price"),[this.minYear,this.maxYear]=r.findMinMaxDigits(this.product,"year")},checkOpenDetailsProduct(){if(this.$route.params.id){this.product=r.getCarProducts(this.rentCar);let e=r.searchProduct(this.product,"id",this.$route.params.id);e?this.openDetailsProductPage(e):this.$router.push({path:"/404"})}},openDetailsProductPage(e){this.productMoreDetails=e,this.showModalRentMore=!0,this.$router.push(`/rent/${this.productMoreDetails.id}`)},resetFilter(){this.reset++}},computed:{},created(){this.getRentCars()}},$=e=>(S("data-v-06d2e095"),e=e(),B(),e),ue={class:"wrapper"},pe={class:"main"},ce={class:"main-header"},me=$(()=>o("p",{class:"main-header__title"},"Условия аренды",-1)),he={class:"main-header__box"},ge=$(()=>o("div",{class:"main-header__box-info"},[o("h2",{class:"main-header__box-title"},"Быстрая аренда автомобилей"),o("p",{class:"main-header__box-text"}," Вы можете забронировать автомобиль в аренду на сайте самостоятельно или позвонить нам по телефону: "),o("a",{class:"main-header__box-tel",href:"tel:+7 (812) 317-68-15"},"+7 (812) 317-68-15")],-1)),fe={class:"main-header__questions"},_e={class:"main-header__questions-accordion"},ve={class:"main-header__questions-accordion"},be={class:"main-catalog"},Me={class:"main-sidebar"},ke=["disabled"],Ce={class:"main-content"},De={class:"filter-group"},Pe={class:"product"},ye={key:0,class:"product-null"};function Se(e,t,w,q,p,l){const _=i("BaseQuestion"),v=i("base-accordion"),d=i("filter-range"),h=i("filter-checkbox"),R=i("FilterCheckboxModels"),I=i("BaseSkeleton"),k=i("FilterButton"),F=i("CardSkeleton"),E=i("CardRent"),A=i("ModalRentDetail"),U=i("BaseBanner"),z=i("BasePagination"),N=i("BaseFooterSimple");return a(),c("div",ue,[o("div",pe,[o("div",ce,[n(v,null,{header:m(()=>[me]),body:m(()=>[o("div",he,[ge,o("div",fe,[o("div",_e,[n(_,{questions:p.questionsRent,"start-slice":0,"end-slice":2},null,8,["questions"])]),o("div",ve,[n(_,{questions:p.questionsRent,"start-slice":2},null,8,["questions"])])])])]),_:1})]),o("div",be,[o("div",Me,[o("button",{disabled:e.disabledResetButton,onClick:t[0]||(t[0]=(...s)=>l.resetFilter&&l.resetFilter(...s)),class:"button button--reset button--color-red button--size-xs"}," Сбросить фильтр ",8,ke),n(d,{"title-filter":"Цена","value-type":"amount","value-min":e.minPrice,"value-max":e.maxPrice,"reset-selected":e.reset,open:!e.loading,onSelectedMin:t[1]||(t[1]=s=>e.selectMinPrice=s),onSelectedMax:t[2]||(t[2]=s=>e.selectMaxPrice=s)},null,8,["value-min","value-max","reset-selected","open"]),n(h,{"title-filter":"Марка","reset-selected":e.reset,options:e.brand,open:!e.loading,onSelectedItems:t[3]||(t[3]=s=>e.selectBrand=s)},null,8,["reset-selected","options","open"]),n(R,{onSelectedItems:t[4]||(t[4]=s=>e.selectModel=s),options:e.model,"reset-selected":e.reset,open:!e.loading},null,8,["options","reset-selected","open"]),n(h,{"title-filter":"Кузов","reset-selected":e.reset,options:e.body,open:!e.loading,onSelectedItems:t[5]||(t[5]=s=>e.selectBody=s)},null,8,["reset-selected","options","open"]),n(h,{"title-filter":"Коробка передач","reset-selected":e.reset,options:e.transmission,open:!e.loading,onSelectedItems:t[6]||(t[6]=s=>e.selectTransmission=s)},null,8,["reset-selected","options","open"]),n(h,{"title-filter":"Привод","reset-selected":e.reset,options:e.drive,open:!e.loading,onSelectedItems:t[7]||(t[7]=s=>e.selectDrive=s)},null,8,["reset-selected","options","open"]),n(h,{"title-filter":"Вид топлива","reset-selected":e.reset,options:e.fuel,open:!e.loading,onSelectedItems:t[8]||(t[8]=s=>e.selectFuel=s)},null,8,["reset-selected","options","open"]),n(d,{"title-filter":"Год выпуска","value-type":"year","value-min":e.minYear,"value-max":e.maxYear,"reset-selected":e.reset,open:!e.loading,onSelectedMin:t[9]||(t[9]=s=>e.selectMinYear=s),onSelectedMax:t[10]||(t[10]=s=>e.selectMaxYear=s)},null,8,["value-min","value-max","reset-selected","open"])]),o("div",Ce,[o("div",De,[e.loading?(a(),g(I,{key:0,height:"30px",width:"100%"})):(a(),c(M,{key:1},[n(k,{"reset-selected":e.reset,onSelectedItems:t[11]||(t[11]=s=>e.selectService=s),name:"service",options:e.service},null,8,["reset-selected","options"]),n(k,{"reset-selected":e.reset,onSelectedItems:t[12]||(t[12]=s=>e.selectStatus=s),name:"status",options:e.status},null,8,["reset-selected","options"])],64))]),o("div",Pe,[e.loading?(a(),c(M,{key:0},D(15,s=>n(F,{key:s})),64)):f("",!0),e.filteringProduct.length?(a(),g(j,{key:1,name:"collapse"},{default:m(()=>[(a(!0),c(M,null,D(e.filteringProduct.slice(e.pageStart,e.pageEnd),s=>(a(),g(E,{key:s.id,onMoreDetails:t[13]||(t[13]=T=>l.openDetailsProductPage(T)),product:s},null,8,["product"]))),128))]),_:1})):f("",!0),n(y,{name:"fade"},{default:m(()=>[p.showModalRentMore?(a(),g(A,{key:0,product:p.productMoreDetails,onCloseModal:t[14]||(t[14]=s=>(p.showModalRentMore=!1,e.$router.push("/rent")))},null,8,["product"])):f("",!0)]),_:1})]),!e.filteringProduct.length&&!e.loading?(a(),c("div",ye," Ничего не найдено ")):f("",!0),n(U,{title:"Не нашли ничего подходящего?",text:"Приобретите в лизинг!",button:"Перейти",onClickButton:t[15]||(t[15]=s=>this.$router.push("/catalog"))}),n(z,{"total-amount-data":e.filteringProduct.length,onActualPage:t[16]||(t[16]=s=>(e.pageStart=s.start,e.pageEnd=s.end))},null,8,["total-amount-data"])])]),n(N)])])}const Ae=P(de,[["render",Se],["__scopeId","data-v-06d2e095"]]);export{Ae as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ModalRentDetail-N1-Vu8Pa.js","assets/magnifying-glass-plus-Zpk56DgO.js","assets/index-WjT0I8Tu.js","assets/index-t21y9Y9p.css","assets/magnifying-glass-plus-xbWZGGKh.css","assets/FilterDataStore-c8sR_nMQ.js","assets/FilterDataStore-_wqf_85Y.css","assets/CardSkeleton-uQKb2VQ8.js","assets/BaseFooterSimple-mv6nlA0I.js","assets/BaseFooterSimple-GvVt4oEj.css","assets/BaseAccordion-0_3G-jq7.js","assets/BaseAccordion-QuvZGiLU.css","assets/CardSkeleton-8ScWl0t0.css","assets/ModalRentDetail-DusvWbqv.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
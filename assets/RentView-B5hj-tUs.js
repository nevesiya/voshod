import{_ as y,t as i,f as a,g as c,i as o,j as D,v as u,u as n,x as m,H as k,y as b,z as g,k as f,E as P,A as B,C as $,Q as V,s as r,F as M,m as C,T as Y,R as j}from"./index-Cj6STHbc.js";import{B as L}from"./BaseQuestion-Uf8A_OfX.js";import{B as Q}from"./BaseAccordion-eATK-C5e.js";import{a as G}from"./CardSkeleton-xAKfwNyA.js";import{P as H,_ as J}from"./icon-filter-VVIPo_wV.js";import{f as K}from"./apiUtils-05fuKnWJ.js";import{_ as W}from"./arrow-right-black-bCXs9acw.js";import"./BaseFooterSimple-tk4xvsYd.js";import"./FilterDataStore-duGaIVx-.js";const X={name:"CardRent",mixins:[G],emits:["moreDetails"],methods:{showMoreDetails(){this.$emit("moreDetails",this.product)}}},Z=e=>(B("data-v-9463872d"),e=e(),$(),e),x={class:"card"},ee={class:"card__label-box"},te={href:"#",class:"card__label card__label--service"},se=["src","alt"],oe={class:"card__brand"},ne={class:"card__plate-number"},ie={class:"card__payment"},re={class:"card__payment-rent"},ae=Z(()=>o("span",null,"/ день",-1)),le={class:"card__price card__price-rent"};function de(e,t,q,R,p,d){const v=i("lazy-load-container"),_=i("ModalBooking");return a(),c("div",x,[o("div",ee,[o("p",{href:"#",class:D(["card__label",e.getClass(e.product.status)])},u(e.product.status),3),o("p",te,u(e.product.service),1)]),o("a",{onClick:t[0]||(t[0]=k((...l)=>d.showMoreDetails&&d.showMoreDetails(...l),["prevent"])),href:"#"},[n(v,null,{default:m(()=>[o("img",{src:e.cardImage,alt:`${e.product.brand} ${e.product.model} Image`,class:"card__image"},null,8,se)]),_:1})]),o("a",{onClick:t[1]||(t[1]=k((...l)=>d.showMoreDetails&&d.showMoreDetails(...l),["prevent"])),href:"#",class:"card__name"},[o("span",oe,u(e.product.brand),1),o("span",{ref:"car",class:"card__model"},u(e.modelName),513)]),o("p",ne,u(e.product.registration),1),o("p",ie,[b(" Аренда "),o("span",re,[b(u(e.product.payment.toLocaleString())+" ₽ ",1),ae])]),o("p",le,[b(" Депозит от "),o("span",null,u(e.product.price.toLocaleString())+" ₽",1)]),o("button",{onClick:t[2]||(t[2]=l=>e.showModal=!0),class:"card__book button--size-m button button--color-red"}," Забронировать "),n(P,{name:"fade"},{default:m(()=>[e.showModal?(a(),g(_,{key:0,"name-car":`${e.product.brand} ${e.modelName}`,onCloseModal:t[3]||(t[3]=l=>e.showModal=!1)},null,8,["name-car"])):f("",!0)]),_:1})])}const ue=y(X,[["render",de],["__scopeId","data-v-9463872d"]]),pe={components:{BaseQuestion:L,ModalRentDetail:V(()=>j(()=>import("./ModalRentDetail-LN-NSQnU.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),CardRent:ue,BaseAccordion:Q},mixins:[H],data(){return{questionsRent:[{question:"Как арендовать автомобиль?",answer:["забронировать автомобиль онлайн самостоятельно или позвонить и уточнить наличие свободных автомобилей или приехать и выбрать лично","подписать договор аренды автомобиля","внести оплату (залог + стоимость аренды)"]},{question:"Требования к водителю",answer:["водительское удостоверение","паспорт","стаж вождения от 3-х лет","постоянная или временная регистрация сроком не менее 6 месяцев на территории РФ"]},{question:"Условия аренды",answer:["минимальное время проката от 2-х суток (максимальное не ограничено)","автомобили технически исправны и не старше 3-х лет","все автомобили застрахованы (ОСАГО, КАСКО)","автомобили чистые и заправлены"]},{question:"Условия возврата ",answer:["возврат автомобиля осуществляется в период с 10 до 11 утра","автомобили технически исправнсообщить о сдаче автомобиля необходимо не позднее чем за 2-е суток и не старше 3-х лет","втомобиль должен быть чистым и заправлен"]}],rentCar:"",productMoreDetails:"",showModalRentMore:!1}},methods:{async getRentCars(){this.loading=!0;const e="data/rent_car.json";this.rentCar=await K("https://my.api.mockaroo.com/rent_cars.json?key=a84cf050*",`/voshod/${e}`),typeof this.rentCar=="object"&&this.actionsAfterGettingData(),this.loading=!1},actionsAfterGettingData(){this.product=r.getCarProducts(this.rentCar),this.getDataFilter(),this.checkOpenDetailsProduct()},getDataFilter(){this.model=r.getCarModels(this.product),this.brand=r.getUniqueElements(this.product,"brand"),this.status=r.getUniqueElements(this.product,"status"),this.drive=r.getUniqueElements(this.product,"drive"),this.fuel=r.getUniqueElements(this.product,"fuel"),this.body=r.getUniqueElements(this.product,"body"),this.transmission=r.getUniqueElements(this.product,"transmission"),this.service=r.getUniqueElements(this.product,"service"),[this.minPrice,this.maxPrice]=r.findMinMaxDigits(this.product,"price"),[this.minYear,this.maxYear]=r.findMinMaxDigits(this.product,"year")},checkOpenDetailsProduct(){if(this.$route.params.id){this.product=r.getCarProducts(this.rentCar);let e=r.searchProduct(this.product,"id",this.$route.params.id);e?this.openDetailsProductPage(e):this.$router.push({path:"/404"})}},openDetailsProductPage(e){this.productMoreDetails=e,this.showModalRentMore=!0,this.$router.push(`/rent/${this.productMoreDetails.id}`)},resetFilter(){this.reset++}},computed:{},created(){this.getRentCars()}},w=e=>(B("data-v-04a1aede"),e=e(),$(),e),ce={class:"wrapper"},me={class:"main"},he={class:"main-header"},ge=w(()=>o("p",{class:"main-header__title"},"Условия аренды",-1)),fe={class:"main-header__box"},ve=w(()=>o("div",{class:"main-header__box-info"},[o("h2",{class:"main-header__box-title"}," Быстрая аренда автомобилей "),o("p",{class:"main-header__box-text"}," Вы можете забронировать автомобиль в аренду на сайте самостоятельно или позвонить нам по телефону: "),o("a",{class:"main-header__box-tel",href:"tel:+7 (812) 317-68-15"}," +7 (812) 317-68-15 ")],-1)),_e={class:"main-header__questions"},be={class:"main-header__questions-accordion"},Me={class:"main-header__questions-accordion"},Se={class:"main-catalog"},ke={class:"main-sidebar__header"},Ce=["disabled"],ye={class:"main-content"},De={class:"filter-group"},Pe={class:"product"},Be={key:0,class:"product-null"};function $e(e,t,q,R,p,d){const v=i("BaseQuestion"),_=i("base-accordion"),l=i("FilterButton"),S=i("filter-range"),h=i("filter-checkbox"),I=i("FilterCheckboxModels"),F=i("BaseSkeleton"),E=i("CardSkeleton"),O=i("CardRent"),A=i("ModalRentDetail"),U=i("BaseBanner"),z=i("BasePagination"),N=i("BaseFooterSimple");return a(),c("div",ce,[o("div",me,[o("div",he,[n(_,null,{header:m(()=>[ge]),body:m(()=>[o("div",fe,[ve,o("div",_e,[o("div",be,[n(v,{questions:p.questionsRent,"start-slice":0,"end-slice":2},null,8,["questions"])]),o("div",Me,[n(v,{questions:p.questionsRent,"start-slice":2},null,8,["questions"])])])])]),_:1})]),o("div",Se,[o("div",{class:D([{"main-sidebar--open":e.isOpenSlidingSidebar},"main-sidebar"])},[o("div",ke,[o("img",{onClick:t[0]||(t[0]=s=>e.isOpenSlidingSidebar=!e.isOpenSlidingSidebar),src:W,alt:"arrow back",class:"main-sidebar__header-close"})]),o("button",{disabled:e.disabledResetButton,onClick:t[1]||(t[1]=(...s)=>d.resetFilter&&d.resetFilter(...s)),class:"button button--reset button--color-red button--size-xs"}," Сбросить фильтр ",8,Ce),n(l,{class:"main-sidebar__service","reset-selected":e.reset,onSelectedItems:t[2]||(t[2]=s=>e.selectService=s),name:"service",options:e.service},null,8,["reset-selected","options"]),n(S,{"title-filter":"Цена","value-type":"amount","value-min":e.minPrice,"value-max":e.maxPrice,"reset-selected":e.reset,open:!e.loading,onSelectedMin:t[3]||(t[3]=s=>e.selectMinPrice=s),onSelectedMax:t[4]||(t[4]=s=>e.selectMaxPrice=s)},null,8,["value-min","value-max","reset-selected","open"]),n(h,{"title-filter":"Марка","reset-selected":e.reset,options:e.brand,open:!e.loading,onSelectedItems:t[5]||(t[5]=s=>e.selectBrand=s)},null,8,["reset-selected","options","open"]),n(I,{onSelectedItems:t[6]||(t[6]=s=>e.selectModel=s),options:e.model,"reset-selected":e.reset,open:!e.loading},null,8,["options","reset-selected","open"]),n(h,{"title-filter":"Кузов","reset-selected":e.reset,options:e.body,open:!e.loading,onSelectedItems:t[7]||(t[7]=s=>e.selectBody=s)},null,8,["reset-selected","options","open"]),n(h,{"title-filter":"Коробка передач","reset-selected":e.reset,options:e.transmission,open:!e.loading,onSelectedItems:t[8]||(t[8]=s=>e.selectTransmission=s)},null,8,["reset-selected","options","open"]),n(h,{"title-filter":"Привод","reset-selected":e.reset,options:e.drive,open:!e.loading,onSelectedItems:t[9]||(t[9]=s=>e.selectDrive=s)},null,8,["reset-selected","options","open"]),n(h,{"title-filter":"Вид топлива","reset-selected":e.reset,options:e.fuel,open:!e.loading,onSelectedItems:t[10]||(t[10]=s=>e.selectFuel=s)},null,8,["reset-selected","options","open"]),n(S,{"title-filter":"Год выпуска","value-type":"year","value-min":e.minYear,"value-max":e.maxYear,"reset-selected":e.reset,open:!e.loading,onSelectedMin:t[11]||(t[11]=s=>e.selectMinYear=s),onSelectedMax:t[12]||(t[12]=s=>e.selectMaxYear=s)},null,8,["value-min","value-max","reset-selected","open"])],2),o("div",ye,[o("div",De,[e.loading?(a(),g(F,{key:0,height:"30px",width:"100%"})):(a(),c(M,{key:1},[n(l,{class:"filter-group__service","reset-selected":e.reset,onSelectedItems:t[13]||(t[13]=s=>e.selectService=s),name:"service",options:e.service},null,8,["reset-selected","options"]),n(l,{class:"filter-group__status","reset-selected":e.reset,onSelectedItems:t[14]||(t[14]=s=>e.selectStatus=s),name:"status",options:e.status},null,8,["reset-selected","options"]),o("img",{onClick:t[15]||(t[15]=s=>e.isOpenSlidingSidebar=!e.isOpenSlidingSidebar),class:"filter-group__btn-filter",src:J,alt:""})],64))]),o("div",Pe,[e.loading?(a(),c(M,{key:0},C(15,s=>n(E,{key:s})),64)):f("",!0),e.filteringProduct.length?(a(),g(Y,{key:1,name:"collapse"},{default:m(()=>[(a(!0),c(M,null,C(e.filteringProduct.slice(e.pageStart,e.pageEnd),s=>(a(),g(O,{key:s.id,onMoreDetails:t[16]||(t[16]=T=>d.openDetailsProductPage(T)),product:s},null,8,["product"]))),128))]),_:1})):f("",!0),n(P,{name:"fade"},{default:m(()=>[p.showModalRentMore?(a(),g(A,{key:0,product:p.productMoreDetails,onCloseModal:t[17]||(t[17]=s=>(p.showModalRentMore=!1,e.$router.push("/rent")))},null,8,["product"])):f("",!0)]),_:1})]),!e.filteringProduct.length&&!e.loading?(a(),c("div",Be," Ничего не найдено ")):f("",!0),n(U,{title:"Не нашли ничего подходящего?",text:"Приобретите в лизинг!",button:"Перейти",onClickButton:t[18]||(t[18]=s=>this.$router.push("/catalog"))}),n(z,{"total-amount-data":e.filteringProduct.length,onActualPage:t[19]||(t[19]=s=>(e.pageStart=s.start,e.pageEnd=s.end))},null,8,["total-amount-data"])])]),n(N)])])}const ze=y(pe,[["render",$e],["__scopeId","data-v-04a1aede"]]);export{ze as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ModalRentDetail-LN-NSQnU.js","assets/ModalSlider-qv0XAE3Z.js","assets/index-Cj6STHbc.js","assets/index-pzO2FWOC.css","assets/ModalSlider-WcrEHeg2.css","assets/FilterDataStore-duGaIVx-.js","assets/FilterDataStore-VSJKNeB0.css","assets/CardSkeleton-xAKfwNyA.js","assets/BaseFooterSimple-tk4xvsYd.js","assets/BaseFooterSimple-KGM4u1b1.css","assets/BaseAccordion-eATK-C5e.js","assets/BaseAccordion-5MvQA_bF.css","assets/CardSkeleton-HjP-DiP9.css","assets/ModalRentDetail-hZdU8hT9.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}